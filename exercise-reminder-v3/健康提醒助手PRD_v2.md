# 健康提醒助手 PRD

## 文档信息

| 项目名称 | 健康提醒助手 |
|---------|------------|
| 文档版本 | v1.0 |
| 创建日期 | 2026-01-28 |
| 产品定位 | 个人PC端健康提醒工具 |
| 目标用户 | 在家办公的个人用户 |

---

## 1. 产品概述

### 1.1 产品背景
针对长时间使用电脑办公的用户，通过定时提醒运动、远眺、站立等行为，帮助用户建立健康的工作习惯，减少久坐带来的健康风险。

### 1.2 产品目标
- 通过智能提醒，帮助用户在工作期间保持规律的运动节奏
- 提供卡路里消耗追踪，激励用户完成每日运动目标
- 轻量化运行，不干扰正常工作流程

### 1.3 核心特性
- 三类独立提醒（运动、远眺、站立）
- 基于MET值的科学卡路里计算
- 灵活的跳过机制
- 简洁的数据统计与体重记录
- 开机自启动，系统托盘常驻

---

## 2. 用户信息管理

### 2.1 基础信息录入
用户首次启动时需输入以下信息：

| 字段 | 类型 | 说明 | 示例 |
|------|------|------|------|
| 身高 | 数字 | 单位：厘米 | 175 |
| 体重 | 数字 | 单位：公斤 | 70 |
| 年龄 | 数字 | 单位：岁 | 30 |
| 性别 | 选择 | 男/女 | 男 |

### 2.2 体重管理
- 用户可在首页随时更新当前体重
- 体重变化会实时影响卡路里计算
- 显示体重变化趋势（起始体重 → 当前体重）

---

## 3. 三类提醒功能

### 3.1 功能架构

```
提醒系统
├── 运动提醒（计算卡路里）
├── 远眺提醒（仅记录）
└── 站立提醒（仅记录）
```

**关键规则：**
- 三类提醒各自独立运行，不共享时间线
- 三类提醒不能同时触发，最小间隔 2 分钟
- 时间间隔为设定范围内的随机值

### 3.2 运动提醒

#### 3.2.1 参数设置
| 参数 | 单位 | 默认值 | 说明 |
|------|------|--------|------|
| 提醒间隔 | 分钟 | 10-20 | 范围内随机触发 |
| 单次时长 | 秒 | 120 | 用户可自定义，建议2-4分钟 |

#### 3.2.2 弹窗设计（大窗口）

**布局示例（参考用户界面设计）：**
```
┌─────────────────────────────────────┐
│  🏃 微运动时间           [ _ ] [□] [×]│
├─────────────────────────────────────┤
│                                     │
│  动作：开合跳                        │
│  MET: 8.0                           │
│                                     │
│  ┌─────────────────────────────┐   │
│  │                             │   │
│  │        00:30                │   │
│  │     (倒计时，绿色)           │   │
│  │                             │   │
│  └─────────────────────────────┘   │
│                                     │
│  预计消耗：12.5 千卡                │
│                                     │
└─────────────────────────────────────┘
```

**窗口控制按钮（右上角）：**
- `[ _ ]` 最小化到托盘
- `[□]` 窗口化/还原
- `[×]` 暂不运动（跳过本次）

**交互规则：**
1. 弹窗占据屏幕较大位置，可拖动
2. 显示运动名称、MET值、预计消耗
3. 倒计时最后 10 秒数字颜色变化（绿色→橙色）
4. 用户点击 `[×]` = 跳过，不计入卡路里
5. 用户不点击 = 倒计时结束自动完成 = 计入卡路里
6. 完成后窗口直接消失

#### 3.2.3 运动库与MET值

**MET（代谢当量）说明：**
- MET (Metabolic Equivalent of Task) 是国际通用的运动强度标准
- 1 MET = 静坐时的代谢率（约 1大卡/公斤/小时）
- MET值越高，运动强度越大，消耗越多

**初始运动库（15个）：**

| 运动名称 | MET值 | 强度分类 |
|---------|-------|----------|
| 半程波比跳 | 10.0 | 高强度 |
| 开合跳 | 8.0 | 高强度 |
| 高抬腿 | 8.0 | 高强度 |
| 俯卧撑 | 8.0 | 高强度 |
| 哑铃硬拉 | 6.0 | 中强度 |
| 箭步蹲 | 6.0 | 中强度 |
| 深蹲 | 5.0 | 中强度 |
| 徒手硬拉 | 5.0 | 中强度 |
| 弹力带划船 | 4.5 | 中强度 |
| 哑铃侧平举 | 4.0 | 中强度 |
| 哑铃前平举 | 4.0 | 中强度 |
| 仰卧起坐 | 3.8 | 低强度 |
| 站姿扭腰 | 3.5 | 低强度 |
| 弹力带开合 | 3.5 | 低强度 |
| 全身拉伸 | 2.3 | 低强度 |

**运动库管理：**
- 支持手动添加运动（输入名称和MET值）
- 支持删除运动
- 系统从运动库中随机抽取，用户无需手动选择

#### 3.2.4 卡路里计算

**计算公式（基于MET标准）：**
```
消耗(大卡) = MET × 体重(kg) × 运动时长(分钟) / 60
```

**计算示例：**
- 体重：70 kg
- 运动：开合跳（MET = 8.0）
- 时长：2 分钟
- 消耗 = 8.0 × 70 × 2 / 60 ≈ 18.7 大卡

**说明：**
- 远眺和站立不计算卡路里消耗
- 仅运动计入每日目标
- 体重变化会实时影响计算结果

### 3.3 远眺提醒

#### 3.3.1 参数设置
| 参数 | 单位 | 默认值 | 说明 |
|------|------|--------|------|
| 提醒间隔 | 分钟 | 10-20 | 范围内随机触发 |
| 单次时长 | 秒 | 60 | 用户可自定义 |

#### 3.3.2 弹窗设计（大窗口）

**布局示例：**
```
┌─────────────────────────────────────┐
│  👀 微运动时间           [ _ ] [□] [×]│
├─────────────────────────────────────┤
│                                     │
│  远眺放松                            │
│  （望向5米外，放松眼睛）              │
│                                     │
│  ┌─────────────────────────────┐   │
│  │                             │   │
│  │        00:60                │   │
│  │     (倒计时，绿色)           │   │
│  │                             │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

**交互规则：**
- 与运动弹窗同等大小
- 倒计时最后 10 秒数字颜色变化
- 其他交互逻辑与运动提醒一致
- 完成后直接消失
- 不计算卡路里，仅作记录

### 3.4 站立提醒

#### 3.4.1 参数设置
| 参数 | 单位 | 默认值 | 说明 |
|------|------|--------|------|
| 提醒间隔 | 分钟 | 10-20 | 范围内随机触发 |
| 单次时长 | 秒 | 300 | 建议5分钟以上 |

#### 3.4.2 弹窗设计（小窗口）

**布局示例：**
```
┌──────────────────────────┐
│ 🧍 微运动  [ _ ] [□] [×] │
├──────────────────────────┤
│                          │
│    站立活动               │
│    放松腿部               │
│                          │
│      05:00               │
│   （倒计时，绿色）        │
│                          │
└──────────────────────────┘
```

**特殊设计：**
- 窗口尺寸约为运动弹窗的 60%
- 便于拖动至屏幕角落，避免长时间遮挡工作区域
- 倒计时持续显示，最后 10 秒颜色变化

#### 3.4.3 完成提示

**站立完成后弹出额外提示：**
```
┌──────────────────────┐
│         ✓            │
│                      │
│   站立完成，请坐下    │
│                      │
│   (2秒后自动消失)     │
└──────────────────────┘
```

---

## 4. 目标管理与打卡

### 4.1 每日目标设置
- 用户设定每日卡路里消耗目标（如 300 大卡）
- 目标为固定值，不随活跃时长变化

### 4.2 打卡逻辑

**判定标准：**
```
累计运动消耗卡路里 ≥ 每日目标 → 打卡成功
```

**连续打卡规则：**
- 连续N天打卡成功 → 显示"连续打卡 N 天"
- 中断一天 → 清零重新计算

### 4.3 目标完成提示

**弹窗示例：**
```
┌─────────────────────────────────┐
│            🎉                   │
│                                 │
│    太棒了！今日目标已达成         │
│      已完成 320/300 千卡         │
│                                 │
│     （3秒后自动消失）            │
└─────────────────────────────────┘
```

**说明：**
- 当日首次完成目标时弹出
- 简洁庆祝提示，无音效
- 3秒后自动消失

---

## 5. 数据统计

### 5.1 统计维度

#### 今日数据
- 运动热量目标进度：240/400 千卡（60%）
- 连续打卡天数：7 天
- 当前体重：70 kg
- 今日活动详情列表

#### 历史总数据
- 累计消耗卡路里
- 累计打卡天数
- 体重变化：72 kg → 70 kg（↓2kg）

### 5.2 今日活动详情

**显示内容：**
- 时间戳（精确到分钟）
- 活动类型图标（运动🏃/远眺👀/站立🧍）
- 活动名称和时长
- 运动显示消耗卡路里

**示例：**
```
今日活动详情

[ 今天 14:30 ] 🧍 站立 2 分钟
[ 今天 11:15 ] 🏃 开合跳 2分钟 (18.7大卡)
[ 今天 09:00 ] 👀 远眺 1 分钟
[ 今天 07:45 ] 🧍 站立 5 分钟
[ 今天 06:30 ] 🏃 高抬腿 2分钟 (18.7大卡)
```

**说明：**
- 显示所有三类活动记录
- 运动标注消耗的卡路里
- 按时间倒序排列

### 5.3 体重管理

**功能：**
- 首页显示当前体重，可随时点击更新
- 记录初始体重和当前体重
- 显示体重变化趋势（起始 → 当前）
- 体重更新后，后续卡路里计算使用新体重

---

## 6. 首次启动引导

### 6.1 引导流程

**第一页：个人信息录入**
- 标题："让我们开始吧"
- 输入：身高、体重、年龄、性别
- 按钮："下一步"

**第二页：提醒参数设置**
- 标题："设置你的提醒节奏"
- 三类提醒的时间间隔设置
- 单次时长设置
- 每日卡路里目标设置
- 按钮："完成设置"

**第三页：欢迎页**
- 标题："一切就绪！"
- 说明："我们会在合适的时候提醒你运动、远眺和站立"
- 按钮："开始使用"

**第四步：首次提醒**
- 点击"开始使用"后，立即弹出第一次运动提醒
- 完成后正式进入正常流程

---

## 7. 主界面设计

### 7.1 系统托盘常驻
- 软件平时隐藏在系统托盘（右下角图标）
- 图标设计：简洁的健康主题图标
- 右键菜单：
  - 打开主界面
  - 暂停/恢复
  - 设置
  - 退出

### 7.2 首页（统计页面）

**布局结构：**
```
┌─────────────────────────────────────┐
│  🔥 今日目标进度                     │
├─────────────────────────────────────┤
│  运动热量目标：240/400 千卡 (60%)    │
│  ████████░░░░░░░░                   │
│  🔥 连续打卡：7 天                   │
│  ⚖️ 当前体重：70 kg  [更新]          │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  📋 今日活动详情                     │
├─────────────────────────────────────┤
│  [ 今天 14:30 ] 🧍 站立 2 分钟      │
│  [ 今天 11:15 ] 🏃 开合跳 2分钟 (18.7大卡)│
│  [ 今天 09:00 ] 👀 远眺 1 分钟      │
│  ...                                │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│  📊 历史数据                         │
├─────────────────────────────────────┤
│  累计消耗：15000 千卡                │
│  累计打卡：52 天                     │
│  体重变化：72kg → 70kg (↓2kg)       │
└─────────────────────────────────────┘

        [ 设置 ]  [ 暂停提醒 ]
```

### 7.3 界面风格

**设计原则：**
- 简洁卡片式布局
- 无边框设计，使用分隔线或留白区分区块
- 主题色：绿色系（如 #4CAF50）
- 字体：清晰易读，语气温和有对话感
- 图标：简洁明了的emoji或矢量图标

**提醒弹窗特点：**
- 半透明背景
- 可拖动
- 无关闭按钮（必须通过"暂不XX"或倒计时完成）
- 倒计时数字大而醒目

---

## 8. 设置功能

### 8.1 设置页面结构

采用标签页（Tab）结构，分为三个模块：

#### Tab 1 - 个人信息
```
个人信息
├── 身高（cm）
├── 体重（kg）
├── 年龄（岁）
├── 性别（男/女）
└── 每日热量目标（大卡）
```

#### Tab 2 - 提醒设置
```
提醒设置
├── 运动提醒
│   ├── 间隔时间（分钟范围，如10-20）
│   └── 单次时长（秒，如120）
├── 远眺提醒
│   ├── 间隔时间（分钟范围）
│   └── 单次时长（秒）
└── 站立提醒
    ├── 间隔时间（分钟范围）
    └── 单次时长（秒）
```

**说明：**
- 时间范围说明："在 X-Y 分钟内随机触发"
- 间隔和时长均可自定义

#### Tab 3 - 运动库
```
运动库
├── 运动列表
│   ├── 运动名称 | MET值 | [删除]
│   ├── 开合跳 | 8.0 | [删除]
│   └── ...
├── [+ 添加运动]
│   └── 输入运动名称和MET值
└── 开机自启动（开关）
```

### 8.2 暂停功能

**入口：**
- 主界面底部"暂停提醒"按钮
- 系统托盘右键菜单"暂停"

**逻辑：**
- 点击暂停 → 三条时间轴全部停止
- 系统托盘图标显示暂停状态（如灰色或带暂停标识）
- 点击恢复 → 重新计算下次提醒时间（非从暂停点继续）

---

## 9. 技术要求

### 9.1 性能要求
- 轻量化：内存占用 < 100MB
- 快速启动：启动时间 < 2秒
- 低CPU占用：后台运行CPU占用 < 1%

### 9.2 兼容性要求
- 操作系统：Windows 10/11
- 分辨率：支持 1920×1080 及以上常见分辨率
- 无需管理员权限运行

### 9.3 数据存储
- 本地存储用户数据
- 数据格式：JSON / SQLite
- 需要持久化数据：
  - 用户个人信息
  - 设置参数
  - 历史运动记录
  - 统计数据

### 9.4 技术栈建议
- 前端效果优先
- 轻量化、执行速度快
- 无需考虑跨平台移植
- 推荐方案：Electron / Tauri / WPF

---

## 10. 优先级与迭代计划

### 10.1 MVP（最小可行产品）
**P0 - 核心功能**
- 用户信息录入
- 运动提醒功能（含弹窗、倒计时、跳过）
- 运动库（15个初始动作，基于MET值）
- 卡路里计算（基于MET标准公式）
- 今日数据统计（进度、打卡、活动详情）
- 体重记录与管理
- 系统托盘常驻
- 开机自启动

**P1 - 重要功能**
- 远眺提醒
- 站立提醒（含完成提示）
- 暂停/恢复功能
- 设置页面（三个Tab）
- 连续打卡天数
- 目标完成庆祝弹窗

**P2 - 优化功能**
- 历史总数据统计
- 运动库管理（手动添加/删除）
- 倒计时最后10秒颜色变化
- 界面细节优化

### 10.2 后续迭代方向（可选）
- 数据可视化图表（周/月趋势）
- 自定义主题色
- 数据导出功能

---

## 11. 关键交互流程图

### 11.1 运动提醒流程

```
开始
  ↓
检查三类提醒是否有正在进行的
  ↓ 否
检查距上次提醒是否 ≥ 2分钟
  ↓ 是
在设定时间范围内随机等待
  ↓
弹出运动提醒窗口
  ↓
用户选择
  ├─→ 点击 [×] 跳过 → 不计入卡路里 → 重新计算下次提醒
  └─→ 不点击，等待倒计时
        ↓
      倒计时结束
        ↓
      计算卡路里消耗
        ↓
      更新今日数据
        ↓
      检查是否达成目标
        ├─→ 是 → 弹出庆祝窗口
        └─→ 否 → 继续
      ↓
    窗口消失
      ↓
   重新计算下次提醒
```

### 11.2 打卡判定流程

```
每次运动完成
  ↓
累加今日消耗卡路里
  ↓
检查：今日累计 ≥ 每日目标？
  ├─→ 是 → 首次达成？
  │         ├─→ 是 → 弹出庆祝窗口
  │         └─→ 否 → 不重复提示
  └─→ 否 → 继续累计
  ↓
每日零点重置
  ↓
检查昨日是否打卡
  ├─→ 是 → 连续打卡天数 +1
  └─→ 否 → 连续打卡天数清零
```

---

## 12. 异常场景处理

### 12.1 长时间未使用
- 场景：用户长时间离开电脑（如午休、外出）
- 处理：提醒窗口等待用户返回，不自动累计完成
- 建议：用户可在离开前点击"暂停提醒"

### 12.2 系统休眠/关机
- 场景：电脑休眠或关机
- 处理：
  - 所有计时器暂停
  - 唤醒/开机后重新计算下次提醒时间
  - 不补偿休眠期间的提醒

### 12.3 弹窗冲突
- 场景：三类提醒几乎同时触发
- 处理：按优先级依次弹出，间隔至少2分钟
- 优先级：运动 > 远眺 > 站立

### 12.4 体重更新
- 场景：用户更新体重
- 处理：立即应用于后续卡路里计算，已完成的运动记录不变

### 12.5 数据丢失
- 场景：软件异常退出或数据损坏
- 处理：
  - 定期备份用户数据
  - 启动时检查数据完整性
  - 损坏时提示用户重新设置

---

## 13. 文案规范

### 13.1 语气风格
- 温和、友好、有对话感
- 简洁明了，避免冗长
- 鼓励性、正向激励

### 13.2 常用文案示例

**提醒弹窗：**
- 运动："{运动名称}"（如"开合跳"）+ "MET: 8.0" + "预计消耗：12.5 千卡"
- 远眺："远眺放松" + "望向5米外，放松眼睛"
- 站立："站立活动" + "放松腿部"

**按钮文案：**
- 窗口控制：`[ _ ]` 最小化 / `[□]` 窗口化 / `[×]` 暂不运动
- "开始使用"
- "下一步" / "完成设置"
- "暂停提醒" / "恢复提醒"
- "更新" （体重更新）

**提示文案：**
- "太棒了！今日目标已达成"
- "站立完成，请坐下"
- "一切就绪！"
- "在 X-Y 分钟内随机触发"

**统计标题：**
- "今日目标进度"
- "今日活动详情"
- "历史数据"

---

## 14. 附录

### 14.1 名词解释
- **MET（代谢当量）**：Metabolic Equivalent of Task，国际通用的运动强度单位，1 MET = 静坐时的代谢率
- **卡路里消耗**：基于MET值、体重和运动时长计算的能量消耗
- **打卡**：完成每日卡路里目标即算打卡成功

### 14.2 参考资料
- MET值参考：Compendium of Physical Activities（体力活动概要）
- 卡路里计算公式：国际通用MET标准

---

**文档结束**

*本文档为健康提醒助手产品需求说明书，如有疑问或需要补充，请及时反馈。*
