# 变更提案：设置页全局保存与开机自启动

> **日期**：2026-01-30
> **范围**：设置页（提醒设置、运动库）

## 背景与动机
当前设置页与原型存在功能差异：提醒设置缺少全局保存；运动库缺少“开机自启动”。这些差异影响用户体验与功能完整性。

## 变更内容
1. 提醒设置改为“全局一次性保存”。
2. 运动库新增“开机自启动”开关，并真实接入系统登录项。
3. 新增系统设置持久化键：`auto_start_enabled`。

## 实现方案概述
- 前端使用 `draftSettings` 收集用户编辑，点击页脚“保存设置”时批量提交。
- 主进程通过 `app.setLoginItemSettings` 设置系统开机自启；状态持久化到 `system_settings`。
- 新增 IPC 通道：读取与设置开机自启动状态。

## 影响范围
- 前端设置页交互与保存逻辑变化。
- Electron IPC 接口新增。
- 数据库 `system_settings` 表新增 key。

## 测试计划
- 前端：全局保存触发批量更新；开机自启动开关成功/失败回滚。
- 后端：IPC 读写系统设置；持久化验证。
- 回归：确保原提醒调度逻辑不受影响。

## 风险与回滚
- 风险：部分系统不支持开机自启。
- 回滚：禁用开机自启功能或保留 UI 但提示不支持。
